# OpenStack Service : KeyStone

상태: Done
태그: auth

---

# Keystone

> Openstack의 Identity Service역할을 하는 컴포넌트 입니다. Identity 서비스는 인증, 인가 및 테넌트, 사용자 역할을 생성합니다.
> 

⇒ Openstack 내에 존재하는 리소스를 사용하기 위해서는 키스톤을 통해 인증과 인가를 받아야 사용할 수 있습니다.

# Keystone History

![스크린샷 2023-05-09 오전 11.38.05.png](OpenStack%20Service%20KeyStone%20fe012513ad53477384d1cce96f001d57/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-05-09_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_11.38.05.png)

**2010년 10월 Austin Release ~ Diablo Release** 

첫 릴리즈인 Austin(2010.10.21)버전은 컴퓨트, 스토리지, 이미지 컴포넌트만 존재했습니다. 그 후 다음 릴리즈 버전인 Bexar(2011.02.03) Release가 되면서 컴퓨트 → Nova , Storage → Swift, Image → Glance 로 이름을 가지게 됐습니다. 

키스톤이 등장하기 전에는 로그인을 통한 인증방식을 사용했습니다. 하지만 각 서비스들이 모듈별로 분리되어 있기 때문에 ID와 PW를 사용하는 HTTP모듈의 한계성때문에 키스톤이 등장하게 되었습니다.

2012년 5월 Essex Release 를 통해 **키스톤**과 **호라이즌**이 등장하게 되었습니다.

- 키스톤은 인증과 인가 사용자에 대한 Identity 서비스입니다.
- 호라이즌은 사용자 UI 대시보드를 제공하는 서비스입니다.

# Keystone Logical Architecture

Keystone의 논리적 아키텍처는 구성요소는 아래와 같습니다.

- 서비스 및 관리자 API
- Token Backend
    - 사용자의 임시 토큰을 관리합니다
    - *사용자 임시 토큰 : 오픈스택 서비스에 접근하기 위한 신분 증명 데이터입니다.
- Catalog Backend
    - 모든 오픈스택 서비스의 대한 엔드포인트 URL을 관리합니다
- Policy Backend
    - 사용자 및 권한 등에 대한 역할을 관리합니다.
- Indentity Backend
    - 사용자 및 그룹에 대한 인증을 관리합니다.
    
    ![스크린샷 2023-05-09 오전 11.21.32.png](OpenStack%20Service%20KeyStone%20fe012513ad53477384d1cce96f001d57/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-05-09_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_11.21.32.png)
    

 

# Keystone 인증 방식

![스크린샷 2023-05-09 오후 12.54.11.png](OpenStack%20Service%20KeyStone%20fe012513ad53477384d1cce96f001d57/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-05-09_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_12.54.11.png)

*VIF(Virtual Interface) 

- 가상화 환경에서 사용되는 가상 네트워크 인터페이스
- 물리적인 네트워크 인터페이스와 비슷한 역할을 합니다. (물리적인 하드웨어 리소스와는 독립적으로 운영)